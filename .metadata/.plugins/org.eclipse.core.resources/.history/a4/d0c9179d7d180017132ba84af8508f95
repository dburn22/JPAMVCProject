package data;

import javax.persistence.EntityManager;
import javax.persistence.PersistenceContext;

import entities.Account;

public class AccountDAOImpl implements AccountDAO {
	@PersistenceContext
	private EntityManager em;

	@Override
	public Account getAccount(Account a) {
		return em.find(Account.class, a);

	}

	@Override
	public Account setBankAccount(Account a) {
		Account account = em.find(Account.class, account.getId());

        account.setBankAccount(account.getBankAccount());
        account.setFrugalSum(account.getFrugalSum());
       
        return account;
	}

	@Override
	public Account setFrugalSum(Account a) {
		em.getTransaction().begin();

		if (a.getFrugalSum() == null) {
			a.setFrugalSum(null);
		} else {
			a.getFrugalSum();
		}
		em.persist(a);
		em.getTransaction().commit();
		return a;

	}
}
